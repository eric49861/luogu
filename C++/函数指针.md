# 函数指针

我感觉指针真正强大的地方就在于它让用户明白无论什么编程语言，计算机底层真正在做的事情。所有的语句和函数都需要被CPU调进内存才能执行，执行程序的过程是一系列取指令，解析指令并执行指令的过程，而这些函数和变量都是在内存中的某个地方存着的，函数名作为函数的签名，存放着函数的入口地址，如果我们能拿到函数的入口地址，只不过是换了一个变量名存放而已，我们让CPU从这段地址开始执行，那就是表面上的函数的调用。

C/C++中声明函数指针的方式：

> return_type function_name(argument_type,...)

例如：声明一个返回值为int，参数也为int类型的函数指针。

```c++
int (*pfunc)(int);

int prt(int a)
{
    return a;
}
int main(void)
{
    pfunc = prt;
    pfunc(10);
    return 0;
}
```

另外一种方式，可以将函数指针声明为一种类型，利用这一点，完全可以让C实现面向对象的过程。

```c++
typedef int (*pfunc)(int);

int main(void)
{
    pfunc p1 = prt;
    p1();
    prt();
    return 0;
}
```

下面可以利用调试印证这一点，使用gdb的print命令，来打印一下变量的内容。

![3](D:\学习笔记\C++\imgs\3.png)

可以看到地址是一样的。